{{define "address"}}
<div class="panel panel-default">
	<div class="panel-heading" style="background-color: #222; color: #ffffff;">
		<h4 class="panel-title">{{if .User.Multisigaddress }}<span id="address_submited_txt">Address Submitted</span>{{else}}<span id="submit_address_txt">Submit Address</span>{{end}}</h4>
	</div>
	<div class="panel-body" style="background-color: #333; color: #ffffff;">
	{{range .Flash}}
	<div class="alert alert-danger">{{.}}</div>
	{{end}}
{{if .User.Multisigaddress}}
    <div style="overflow:auto">
	<p><span style="font-size: large;"><b id="addr_1_txt">Your public key address has been accepted and cannot be changed at this time.</b></span></p>
	<p><span style="font-size: larger;"><b id="addr_2_txt">Public Key Address:</b> {{ .User.Userpubkeyaddr }}</span></p>
    </div>
{{ else }}
	<p><span style="font-size: large;" id="addr_3_txt">To join the pool, provide a public key address which can be used to generate a 1-of-2 multisignature script. The multisignature script will be generated by the pool and returned to you along with a P2SH address to give voting rights to (Tc... for testnet or Dc... for mainnet).</span></p>

	<p><span style="font-size: large;" id="addr_4_txt">To generate a public key address, create a new wallet address with '<b>getnewaddress</b>'. Then, call '<b>validateaddress &lt;yourAddress&gt;</b>' and retrieve the address listed in the '<b>pubkeyaddr</b>' field of the response. It is prefixed Tk... for testnet or Dk... for mainnet.</span></p>

	<p><span style="font-size: large;"><span id="addr_5_txt">The following is an example for</span> {{.Network}}:</span></p>

	<div class="cmd"><pre>
$ dcrctl {{ if eq .Network "testnet"}}--testnet{{end}} --wallet getnewaddress
{{ if eq .Network "mainnet"}}D{{end}}{{ if eq .Network "testnet"}}T{{end}}sExampleAddr1For2Demo3PurposesOnly
$ dcrctl {{ if eq .Network "testnet"}}--testnet{{end}} --wallet validateaddress {{ if eq .Network "mainnet"}}D{{end}}{{ if eq .Network "testnet"}}T{{end}}sExampleAddr1For2Demo3PurposesOnly
{
  "isvalid": true,
  "address": "{{ if eq .Network "mainnet"}}D{{end}}{{ if eq .Network "testnet"}}T{{end}}sExampleAddr1For2Demo3PurposesOnly",
  "ismine": true,
  "pubkeyaddr": <b>"{{ if eq .Network "mainnet"}}D{{end}}{{ if eq .Network "testnet"}}T{{end}}kExample0Addr1For2Demo4Purposes5Only6Do7Not8Use9Pls0"</b>,
  "pubkey": "022801337beefc0ffee1dab8d4ffa898a782466c9a1fc00ca8863de5438dc07dcc",
  "iscompressed": true,
  "account": "default"
}
	</pre></div>

	<p><span style="font-size: large;" id="addr_6_txt">Copy and paste the '<b>pubkeyaddr</b>' into the form below. Once your P2SH address has been generated, instructions will be given on how to purchase tickets that the pool can use to vote.</span></p>
	
		<form method="post" class="form-large form-inline" role="form">
			<div class="form-group">
				<label for="UserPubKeyAddr" id="addr_7_txt">Public Key Address: &nbsp;</label>
				<input id="UserPubKeyAddr" name="UserPubKeyAddr" type="text" placeholder="Enter Address" class="form-control" minlength=40 maxlength=65 required="required" size=60> &nbsp;
				<button id="signup" name="signup" class="btn btn-primary"><span id="submit_addr_btn_txt">Submit Address</span></button>
			</div>
		<input type="hidden" name="{{.CsrfKey}}" value={{.CsrfToken}}>
		</form>
{{ end }}
	</div>
</div>
{{end}}
